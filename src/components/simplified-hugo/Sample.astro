<script>
	let waitlistForm = document.querySelector('#sample-form')
	let emailInput = document.querySelector('#sample-email-input')
	let captchaContainer = document.querySelector('#sample-captcha-container')

	emailInput.addEventListener('input', (e) => {
		const value = e.target.value

		if (value != '') {
			captchaContainer.style.display = 'block'
			return
		}
	})

	waitlistForm.addEventListener('submit', (e) => {
		let captcha = captchaContainer.querySelector('#g-recaptcha-response')
		if (captcha.value == '') {
			e.preventDefault()
			alert('Please check the recaptcha!')
		}
	})
</script>

<section class="container mx-auto px-6 py-20">

	<div class="flex flex-col sm:flex-row items-center justify-between gap-6">
		<div>
			<h2 class="text-3xl font-medium mb-8">Get a free sample!</h2>

			<p class="mb-8 text-lg font-light leading-relaxed max-w-[800px]">
				Buying something without knowing what it’s look like is a bad feeling. In order to help you decide is this book for you, I’ll be sending you a free chapter from the book.
			</p>

			<form id="sample-form" method="POST" action="https://staticninja.com/api/form-submit/JPliHvL8rYm9" class="flex md:flex-row flex-col gap-4 items-center">
				<input id="sample-email-input" class="px-3 py-2 rounded outline-none border border-neutral-200 w-full md:w-auto" type="email" name="email" placeholder="Email address" required />
				<div id="sample-captcha-container" style="display: none;">
				<div class="g-recaptcha" data-sitekey="6LcFwywpAAAAAEn2gMJR1TtKXMtssRqJBC48fbH-"></div>
				</div>
				<button class="block md:w-fit w-full text-center px-5 py-2 bg-blue-600 text-white text-lg rounded">Get a chapter sample (within 24 hours)</button>
			</form>
		</div>

		<img alt="Simplified Hugo book" class="ml-auto mr-auto md:mr-0 w-full max-w-[250px]" src="/images/simplified-hugo-book-slim.png" />
	</div>

</section>

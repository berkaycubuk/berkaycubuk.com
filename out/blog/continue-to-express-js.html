<!DOCTYPE html>
    <head>
        <title>Continue to Express.js</title>
<meta name="viewport" content="width=device-width">
<meta property="og:title" content="Continue to Express.js" />
<meta property="twitter:title" content="Continue to Express.js" />
        <link rel="stylesheet" href="/style.css" />

    </head>
    <body>
        <header class="header"> <div class="header-brand">Berkay Çubuk</div> <nav class="header-nav"> <a href="/">Home</a> <a href="/blog">Blog</a> <a href="/about">About</a> <!-- <a href="/resume">Resume</a> --> </nav> </header>
<main>
<div class="container-slim">
<h1>Continue to Express.js</h1>
<p>date 23.02.2021</p>
<p>With Express.js we can use requests and responses. Request is coming to Express and response is going from Express.</p>
<h2>Sending a Response</h2>
<p>With Express we can easly send responses. With this code we're sending string as a response: ```asm res.send('Hi') ```asm</p>
<p>If we want to send json response: ```asm res.json({ message: 'Hi', name: 'Berkay' }) ```asm</p>
<h3>Response Types</h3>
<p>We can change response types as well: ```asm res.type('html') // text/html</p>
<p>res.type('json') // application/json</p>
<p>res.type('png')  // image/png ```asm</p>
<h3>Response Headers</h3>
<p>Changing headers are easy: ```asm res.set('Authorization', 'token')</p>
<p>res.set('Content-Type', 'application/json') ```asm</p>
<h3>Response Cookies</h3>
<p>Sometimes we'll want to add cookies to our responses: ```asm res.cookie('token', 'supersecrettoken') ```asm</p>
<p>You can also delete cookies ```asm res.clearCookie('token') ```asm</p>
<h3>Response Status</h3>
<p>We can set our response status: ```asm res.status(404).json({ message: 'Not found' }) ```asm</p>
<p>You can do the samething with a shortcut: ```asm res.sendStatus(404) // => res.status(404).send('Not found') ```asm</p>
<h3>Response Redirect</h3>
<p>With a simple response you can redirect your users: ```asm res.redirect('https://berkaycubuk.com')</p>
<p>res.redirect('./')</p>
<p>res.redirect('back') // sending users back ```asm</p>
<h2>Routing</h2>
<p>Routes are simply directions where we are accepting requests. For example: ```asm app.get('/login', (req, res) => {}) ```asm</p>
<p>In this example, we opened our gates for the "/login" address, but only for get request.</p>
<h3>Routes With Parameters</h3>
<p>We want to create a blog and we have "/post" route. Our visitors will be normal people so they are not using any API tools, they will use their browser to access our website. What if they only want to see a single post? We have to get some data with the url, to do that: ```asm app.get('/post/:postName', (req, res) => { res.send(req.params.postName) }) ```asm</p>
<p>This example sends user back the parameter.</p>
<h2>Middleware</h2>
<p>Middlewares are a function that we can connect to routes. We can run it in all requests or we can run it on specific requests. They all can work together, that means you can use multiple middlewares. Let's understand it with an example: ```asm const express = require('express') const app = express()</p>
<p>app.use(express.json()) ```asm</p>
<p>In this example we used Express's built in json function. It helps us to use json in our responses and requests. It runs in every request. Time to create our own and adding it to specific routes. ```asm const myMiddleFunc = (req, res, next) => { // do what you want in here next() // sending the ball to the next one }</p>
<p>app.get('/', myMiddleFunc, (req, res) => {}) ```asm</p>
<p>With this, we created simple  function that does what you want and when it's finish it's job, going to next middleware. To add middlewares to specific routes, we can pass them to route as a parameter.</p>
</div>
</main>
<footer>
<p>Built with <a href="https://github.com/berkaycubuk/sophist" target="_blank">Sophist</a>. <a href="mailto:berkay@berkaycubuk.com">Contact with me</a></p>
</footer>

    </body>
</html>